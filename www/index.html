<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<script src="js/jquery-2.0.2.min.js"></script>

<script>
//utitity
//

</script>

<style>
#list{
	/*background: pink;*/
	/*height: 50px;*/
}
.cifra-mono{
  display: none;
}
.cifra, .back {
  border: 1px solid;
  padding: 20px;
  background: lightblue;
  display: block;
  font-weight: bold;
  font-size: 25px;
}

.back {
  display: none;
}
b[class*='_i'], .chords {
  color:red 
}


</style>
<div id="list"></div>
<div class="back">Back</div>
<div id="songs"></div>
<pre id="stand"></pre>
<div class="back">Back</div>


<script >
//NAVIGATION PAGE
filename = "includes/cifras.html";
var cifras = $.get( filename, function( data ) {
    $( "#songs" ).html( data );
});

//Load links to songs
cifras.done( function(){
            var songs = new Array();
            $('.first_line').each(function(i){
                songs[i] = {}
                songs[i]['html'] = $(this).html().trim();
                songs[i]['id'] = i;
            });

            // sort songs by first line
            songs.sort(function(a, b) {
                if(a.html < b.html) return -1;
                if(a.html > b.html) return 1;
                return 0;
            });
            $.each( songs, function( key, value ) {
                $('#list').append('<div class="cifra" id=' + value['id'] + '>' + value['html'] + '</div><br />');
            });

            $('.cifra').click(function(){
                $('#stand').html($('.cifra-mono').eq(this.id).html());
                $('#list').css('display','none');
                $(".back").css('display','block');
            });
});

//Error checking
cifras.done( function(){
    if($('.cifra-mono').length != $('.first_line').length){
        alert('Error: number of .first_line doesn\'t equal the number of .cifra-mono \nMeaning there\'s songs that will not show up in the Navigation Page \nCheck  ' +filename )
    }
});


$( ".back" ).click(function() {
    $('#stand').html(''); 
    $('#list').css('display','block');
    $(".back").css('display','none');
});
//END of NAVIGATION

</script>

